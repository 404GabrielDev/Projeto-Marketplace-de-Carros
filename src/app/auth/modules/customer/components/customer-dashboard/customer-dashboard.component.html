<p>customer-dashboard works!</p>

<nz-card *ngIf="analytics" style="width: 50%; text-align: center; margin: auto;">
  <div nz-card-grid [ngStyle]="gridStyle">
    <h3>Total Posted Cars</h3>
    <h1>{{analytics.totalCars}}</h1>
  </div>

  <div nz-card-grid [ngStyle]="gridStyle">
    <h3>Total Sold Cars</h3>
    <h1>{{analytics.soldCars}}</h1>
  </div>
</nz-card>

<div *ngFor="let car of cars" class="container-card">
  <div class="card-car">
    <div>
      <img
        class="profile"
        [src]="'data:image/jpeg;base64,' + car.returnedImg"
        alt="profile"
        [ngStyle]="{
          width: car.imageOrientation === 'horizontal' ? '300px' : '200px',
          height: 'auto',
          'border-radius': '1rem'
        }"
      />
    </div>

    <div class="description-car">
      <h1 *ngIf="car.sold" style="color: #ff0000;">
        Offer accepted
      </h1>
      <h2>{{ car.brand }} - {{ car.name }}</h2>
      <p>{{ car.description }}</p>

      <hr />
      <h5>
        Price : <b>{{ car.price }}</b> - Color : <b>{{ car.color }}</b> -
        Transmission : <b>{{ car.transmission }}</b> - Type:
        <B>{{ car.type }}</B> - Year: <b>{{ car.year | date : "yyyy" }}</b>
      </h5>

      <div>

        <button *ngIf="car.hasBid"
          nzSize="small"
          nz-button
          nzType="primary"
          [routerLink]="['/customer/car', car.id, 'book']"
          routerLinkActive="router-link-active"
        >
          Youâ€™ve bid
        </button>

        <button  *ngIf="!car.hasBid && !car.ownerTheCar"
          nzSize="small"
          nz-button
          nzType="primary"
          [routerLink]="['/customer/car', car.id, 'book']"
          routerLinkActive="router-link-active"
        >
          Bid this Car
        </button>

        <div  *ngIf="car.ownerTheCar"
          nzSize="small"
          nz-button
          nzType="primary"
          [routerLink]="['/customer/my-cars']"
          routerLinkActive="router-link-active"
        >
          You own this car
      </div>

      </div>
    </div>
  </div>
</div>
