<nz-card *ngIf="analytics" style="width: 50%; text-align: center; margin: auto;">
  <div nz-card-grid [ngStyle]="gridStyle" style="border: 2px solid #000; border-radius: .5rem;">
    <h3>Total Posted Cars</h3>
    <h1>{{ analytics.totalCars }}</h1>
  </div>

  <div nz-card-grid [ngStyle]="gridStyle" style="border: 2px solid #000; border-radius: .5rem;">
    <h3>Total Sold Cars</h3>
    <h1>{{ analytics.soldCars }}</h1>
  </div>
</nz-card>

<div class="container-card">
  <div *ngFor="let car of combinedCars">
    <div class="cardCar">
      <div class="container-img">
        <img
          class="profile"
          [src]="'data:image/jpeg;base64,' + car.returnedImg"
          alt="profile"
        />
      </div>

      <div class="description-car">
        <h1 *ngIf="car.sold" style="color: #ff0000">Offer accepted</h1>

        <div class="description-text">
          <h2>{{ car.brand }} - {{ car.name }}</h2>
          <p>{{ car.description }}</p>

          <hr />

          <h5>
            Price: <b>${{ car.price }}</b> - Color: <b>{{ car.color }}</b> -
            Transmission: <b>{{ car.transmission }}</b> - Type:
            <b>{{ car.type }}</b> - Year: <b>{{ car.year | date : "yyyy" }}</b>
          </h5>
        </div>

        <div>
          <!-- Bid buttons logic -->
          <button
            *ngIf="car.bidResult"
            nzSize="small"
            nz-button
            nzType="primary"
            [routerLink]="['/customer/car', car.id, 'book']"
            routerLinkActive="router-link-active"
            [style.color]="
              car.bidResult.bidStatus === 'APROVED' ? '#26ff00' : '#ff0000'
            "
          >
            Your bid was {{ car.bidResult.bidStatus }}
          </button>

          <button
            *ngIf="!car.bidResult && !car.ownerTheCar"
            nzSize="small"
            nz-button
            nzType="primary"
            [routerLink]="['/customer/car', car.id, 'book']"
            routerLinkActive="router-link-active"
          >
            Bid this Car
          </button>

          <button
            *ngIf="car.ownerTheCar"
            nzSize="small"
            nz-button
            nzType="primary"
            [routerLink]="['/customer/my-cars']"
            routerLinkActive="router-link-active"
            style="color: #fff"
          >
            You own this car
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
